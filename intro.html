<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
<title>Introducción a R</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="title" content="Introducción a R"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="30 de Enero de 2013"/>
<meta name="author" content="Oscar Perpiñán Lamigueiro"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012  Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">Introducción a R</h1>


<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> R es software libre</h2>
<div class="outline-text-2" id="text-1">


</div>

<div id="outline-container-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> ¿Qué es <code>R</code>?</h3>
<div class="outline-text-3" id="text-1-1">


</div>

<div id="outline-container-1-1-1" class="outline-4">
<h4 id="sec-1-1-1"><span class="section-number-4">1.1.1</span> ¿Qué es <code>R</code>? &nbsp;&nbsp;&nbsp;<span class="tag"><span class="B_block">B_block</span></span></h4>
<div class="outline-text-4" id="text-1-1-1">

<p>¿Qué es <a href="http://procomun.wordpress.com/2011/02/23/que-es-r/">R</a>?: es un lenguaje de programación principalmente
orientado al análisis estadístico y visualización de información
cuantitativa y cualitativa y publicado como software libre con
licencia GNU-GPL.
</p></div>
</div>

</div>

<div id="outline-container-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> R es un proyecto colaborativo</h3>
<div class="outline-text-3" id="text-1-2">


</div>

<div id="outline-container-1-2-1" class="outline-4">
<h4 id="sec-1-2-1"><span class="section-number-4">1.2.1</span> R es un proyecto colaborativo</h4>
<div class="outline-text-4" id="text-1-2-1">

<ul>
<li>Una de las grandes riquezas de R es la cantidad de paquetes (más
  de 4000 actualmente) que amplían sus funcionalidades.  
</li>
<li>La lista completa está en <a href="http://cran.es.r-project.org/web/packages/">http://cran.es.r-project.org/web/packages/</a>.
</li>
<li>Las CRAN Task Views agrupan por temáticas:
  <a href="http://cran.r-project.org/web/views/">http://cran.r-project.org/web/views/</a>
</li>
</ul>


</div>

</div>

<div id="outline-container-1-2-2" class="outline-4">
<h4 id="sec-1-2-2"><span class="section-number-4">1.2.2</span> Más de 4000 paquetes disponibles</h4>
<div class="outline-text-4" id="text-1-2-2">

<ul>
<li>Algunos vienen instalados y se cargan al empezar:
</li>
</ul>




<pre class="example">sessionInfo()
</pre>

<ul>
<li>Otros vienen instalados pero hay que cargarlos:
</li>
</ul>




<pre class="example">library(lattice)
packageVersion('lattice')
packageDescription('lattice')
</pre>

<ul>
<li>Otros hay que instalarlos y después cargarlos:
</li>
</ul>




<pre class="example">install.packages('zoo')
library('zoo')
packageDescription('zoo')
</pre>


</div>
</div>

</div>

<div id="outline-container-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> R está muy bien documentado</h3>
<div class="outline-text-3" id="text-1-3">



</div>

<div id="outline-container-1-3-1" class="outline-4">
<h4 id="sec-1-3-1"><span class="section-number-4">1.3.1</span> Fuentes de información</h4>
<div class="outline-text-4" id="text-1-3-1">

<ul>
<li><a href="http://cran.r-project.org/doc/manuals/R-intro.html">Manual introductorio</a>
</li>
<li><a href="http://cran.r-project.org/manuals.html">Manuales oficiales</a>
</li>
<li><a href="http://cran.r-project.org/other-docs.html">Manuales externos</a>
</li>
<li><a href="http://www.r-project.org/mail.html">Listas de correo</a> (sin olvidar respetar <a href="http://www.r-project.org/posting-guide.html">estos consejos</a>).
</li>
<li><a href="http://www.r-bloggers.com">R-bloggers</a>
</li>
</ul>


</div>
</div>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Vectores y Matrices</h2>
<div class="outline-text-2" id="text-2">



</div>

<div id="outline-container-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> Vectores</h3>
<div class="outline-text-3" id="text-2-1">


</div>

<div id="outline-container-2-1-1" class="outline-4">
<h4 id="sec-2-1-1"><span class="section-number-4">2.1.1</span> Primeros pasos</h4>
<div class="outline-text-4" id="text-2-1-1">




<pre class="example">x &lt;- 1
x
length(x)
class(x)

x &lt;- c(1, 2, 3)
x
length(x)
class(x)
</pre>


</div>

</div>

<div id="outline-container-2-1-2" class="outline-4">
<h4 id="sec-2-1-2"><span class="section-number-4">2.1.2</span> Primeras funciones</h4>
<div class="outline-text-4" id="text-2-1-2">




<pre class="example">class(c)
class(length)
length
</pre>


</div>

</div>

<div id="outline-container-2-1-3" class="outline-4">
<h4 id="sec-2-1-3"><span class="section-number-4">2.1.3</span> Operaciones sencillas con vectores</h4>
<div class="outline-text-4" id="text-2-1-3">




<pre class="example">x + 1
y &lt;- 1:10
x + y
x * y
x^2
x^2 + y^3
exp(x)
log(x)
</pre>


</div>

</div>

<div id="outline-container-2-1-4" class="outline-4">
<h4 id="sec-2-1-4"><span class="section-number-4">2.1.4</span> Generar vectores con <code>seq</code></h4>
<div class="outline-text-4" id="text-2-1-4">




<pre class="example">x1 &lt;- seq(1, 100, by=2)
x1
help(seq)

seq(1, 100, 10)
seq(1, 100, length=10)
seq(1, 1, 10)

x &lt;- seq(1, 100, length=10)
x
length(x)

x &lt;- seq(1, 100, length=10)
y &lt;- seq(2, 100, length=50)
</pre>


</div>

</div>

<div id="outline-container-2-1-5" class="outline-4">
<h4 id="sec-2-1-5"><span class="section-number-4">2.1.5</span> Unir vectores con <code>c</code></h4>
<div class="outline-text-4" id="text-2-1-5">




<pre class="example">z &lt;- c(x, y)
z
z + c(1, 2)
z + c(1, 2, 3, 4, 5, 6, 7)
z &lt;- c(z, z, z, z)
z
</pre>


</div>

</div>

<div id="outline-container-2-1-6" class="outline-4">
<h4 id="sec-2-1-6"><span class="section-number-4">2.1.6</span> Generar vectores con <code>rep</code></h4>
<div class="outline-text-4" id="text-2-1-6">




<pre class="example">rep(1:10, 4)

length(z)

rep(c(1, 2, 3), 10)
rep(c(1, 2, 3), each=10)
help(rep)
</pre>



</div>

</div>

<div id="outline-container-2-1-7" class="outline-4">
<h4 id="sec-2-1-7"><span class="section-number-4">2.1.7</span> Indexado numérico de vectores</h4>
<div class="outline-text-4" id="text-2-1-7">





<pre class="example">x &lt;- seq(1, 100, 2)
1:5
x[c(1, 2, 3, 4, 5)]
x[1:5]
x[10:5]
</pre>


</div>

</div>

<div id="outline-container-2-1-8" class="outline-4">
<h4 id="sec-2-1-8"><span class="section-number-4">2.1.8</span> Indexado de vectores con condiciones lógicas</h4>
<div class="outline-text-4" id="text-2-1-8">




<pre class="example">condicion &lt;- (x&gt;30)
condicion
class(condicion)
</pre>


</div>

</div>

<div id="outline-container-2-1-9" class="outline-4">
<h4 id="sec-2-1-9"><span class="section-number-4">2.1.9</span> Indexado de vectores con condiciones lógicas</h4>
<div class="outline-text-4" id="text-2-1-9">





<pre class="example">x==37
x[x==37]
x[x!=9]
x[x&gt;20]
</pre>


<ul>
<li id="sec-2-1-9-1">Y aquí, ¿qué ocurre? &nbsp;&nbsp;&nbsp;<span class="tag"><span class="B_block">B_block</span></span><br/>




<pre class="example">x[x=10]
</pre>


</li>
</ul>
</div>

</div>

<div id="outline-container-2-1-10" class="outline-4">
<h4 id="sec-2-1-10"><span class="section-number-4">2.1.10</span> Indexado de vectores con <code>%in%</code></h4>
<div class="outline-text-4" id="text-2-1-10">




<pre class="example">y &lt;- seq(101, 200, 2)
y %in% c(101, 127, 141)
y
y[y %in% c(101, 127, 141)]
</pre>


</div>

</div>

<div id="outline-container-2-1-11" class="outline-4">
<h4 id="sec-2-1-11"><span class="section-number-4">2.1.11</span> Indexado de vectores con condiciones múltiples</h4>
<div class="outline-text-4" id="text-2-1-11">





<pre class="example">z &lt;- c(x, y)
z
z&gt;150
z[z&gt;150]
z[z&lt;30 | z&gt;150]
z[z&gt;=30 &amp; z&lt;=150]
z[c(1, 10, 40, 80)]
</pre>


</div>

</div>

<div id="outline-container-2-1-12" class="outline-4">
<h4 id="sec-2-1-12"><span class="section-number-4">2.1.12</span> Indexado de vectores con condiciones múltiples</h4>
<div class="outline-text-4" id="text-2-1-12">




<pre class="example">cond  &lt;-  (x&gt;10) &amp; (x&lt;50)
cond
cond  &lt;-  (x&gt;=10) &amp; (x&lt;=50)
cond
x[cond]

</pre>


</div>

</div>

<div id="outline-container-2-1-13" class="outline-4">
<h4 id="sec-2-1-13"><span class="section-number-4">2.1.13</span> Con las condiciones se pueden hacer operaciones</h4>
<div class="outline-text-4" id="text-2-1-13">




<pre class="example">sum(cond)
!cond
sum(!cond)
length(x[cond])
length(x[!cond])
as.numeric(cond)
</pre>



</div>

</div>

<div id="outline-container-2-1-14" class="outline-4">
<h4 id="sec-2-1-14"><span class="section-number-4">2.1.14</span> Aritmética sencilla</h4>
<div class="outline-text-4" id="text-2-1-14">




<pre class="example">x + y
x - y
x * y
x^2 + y^3
exp(x)
log(x)
</pre>


</div>

</div>

<div id="outline-container-2-1-15" class="outline-4">
<h4 id="sec-2-1-15"><span class="section-number-4">2.1.15</span> Funciones predefinidas</h4>
<div class="outline-text-4" id="text-2-1-15">




<pre class="example">summary(x)
mean(x)
sd(x)
median(x)
max(x)
min(x)
range(x)
quantile(x)
</pre>


</div>

</div>

<div id="outline-container-2-1-16" class="outline-4">
<h4 id="sec-2-1-16"><span class="section-number-4">2.1.16</span> Funciones y condiciones</h4>
<div class="outline-text-4" id="text-2-1-16">




<pre class="example">sum(x)
sum(x[cond])
sum(x[(x&gt;=10) &amp; (x&lt;=50)])
x[1] + x[2] + x[3] + x[4] + x[5]
sum(x[1:5])
</pre>



</div>

</div>

<div id="outline-container-2-1-17" class="outline-4">
<h4 id="sec-2-1-17"><span class="section-number-4">2.1.17</span> ¿Y qué hago cuando necesito ayuda?</h4>
<div class="outline-text-4" id="text-2-1-17">





<pre class="example">help(exp)
help(sum)
help(quantile)
</pre>



</div>
</div>

</div>

<div id="outline-container-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> Matrices</h3>
<div class="outline-text-3" id="text-2-2">


</div>

<div id="outline-container-2-2-1" class="outline-4">
<h4 id="sec-2-2-1"><span class="section-number-4">2.2.1</span> Construir una matriz</h4>
<div class="outline-text-4" id="text-2-2-1">




<pre class="example">z &lt;- 1:12
M  &lt;-  matrix(z, nrow=3)
M
z
help(matrix)
class(M)
dim(M)
summary(M)
</pre>


</div>

</div>

<div id="outline-container-2-2-2" class="outline-4">
<h4 id="sec-2-2-2"><span class="section-number-4">2.2.2</span> Matrices a partir de vectores: <code>rbind</code> y <code>cbind</code></h4>
<div class="outline-text-4" id="text-2-2-2">




<pre class="example">x &lt;- 1:10
y &lt;- 1:10
z &lt;- 1:10
z &lt;- y &lt;- x &lt;- 1:10

M &lt;- cbind(x, y, z)
M
M &lt;- rbind(x, y, z)
M

rbind(M, M)
cbind(M, M)
</pre>


</div>

</div>

<div id="outline-container-2-2-3" class="outline-4">
<h4 id="sec-2-2-3"><span class="section-number-4">2.2.3</span> Transponer una matriz</h4>
<div class="outline-text-4" id="text-2-2-3">





<pre class="example">t(M)
class(t)
dim(t(M))
</pre>


</div>

</div>

<div id="outline-container-2-2-4" class="outline-4">
<h4 id="sec-2-2-4"><span class="section-number-4">2.2.4</span> Operaciones con matrices</h4>
<div class="outline-text-4" id="text-2-2-4">





<pre class="example">M * M
M ^ 2
M %*% M
M %*% t(M)
help('%*%')
</pre>


</div>

</div>

<div id="outline-container-2-2-5" class="outline-4">
<h4 id="sec-2-2-5"><span class="section-number-4">2.2.5</span> Operaciones con matrices: funciones predefinidas</h4>
<div class="outline-text-4" id="text-2-2-5">





<pre class="example">sum(M)
rowSums(M)
colSums(M)
rowMeans(M)
colMeans(M)
</pre>


</div>

</div>

<div id="outline-container-2-2-6" class="outline-4">
<h4 id="sec-2-2-6"><span class="section-number-4">2.2.6</span> La función <code>apply</code></h4>
<div class="outline-text-4" id="text-2-2-6">




<pre class="example">help(apply)
apply(M, 1, sum)
apply(M, 2, sum)
apply(M, 1, mean)
apply(M, 2, mean)
apply(M, 1, sd, na.rm=TRUE)
apply(M, 2, sd)
</pre>


</div>

</div>

<div id="outline-container-2-2-7" class="outline-4">
<h4 id="sec-2-2-7"><span class="section-number-4">2.2.7</span> Indexado de matrices</h4>
<div class="outline-text-4" id="text-2-2-7">




<pre class="example">M
M[]
M[1, ]
M[, 1]
sum(M[, 1])
M[1:2, ]
M[1:2, 2:3]
M[1, c(1, 4)]
M[-1,]
M[-c(1, 2),]
</pre>


</div>
</div>

</div>

<div id="outline-container-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> Valores ausentes</h3>
<div class="outline-text-3" id="text-2-3">



</div>

<div id="outline-container-2-3-1" class="outline-4">
<h4 id="sec-2-3-1"><span class="section-number-4">2.3.1</span> ¿Qué es <code>NA</code>?</h4>
<div class="outline-text-4" id="text-2-3-1">




<pre class="example">class(NA)
x &lt;- rnorm(100)
idx &lt;- sample(length(x), 10)
idx
x[idx]
x2 &lt;- x
x2[idx] &lt;- NA
x2
</pre>


</div>

</div>

<div id="outline-container-2-3-2" class="outline-4">
<h4 id="sec-2-3-2"><span class="section-number-4">2.3.2</span> <code>NA</code> en las funciones</h4>
<div class="outline-text-4" id="text-2-3-2">





<pre class="example">summary(x)
mean(x)
sum(x)

summary(x2)
mean(x2)
sum(x2)
</pre>


</div>

</div>

<div id="outline-container-2-3-3" class="outline-4">
<h4 id="sec-2-3-3"><span class="section-number-4">2.3.3</span> <code>NA</code> en las funciones</h4>
<div class="outline-text-4" id="text-2-3-3">





<pre class="example">mean(x2, na.rm=TRUE)
sum(x2, na.rm=TRUE)
sd(x2, na.rm=TRUE)
class(TRUE)
</pre>



</div>
</div>
</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Funciones</h2>
<div class="outline-text-2" id="text-3">



</div>

<div id="outline-container-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> Definición de funciones</h3>
<div class="outline-text-3" id="text-3-1">


</div>

<div id="outline-container-3-1-1" class="outline-4">
<h4 id="sec-3-1-1"><span class="section-number-4">3.1.1</span> Para definir una función usamos la función <code>function</code></h4>
<div class="outline-text-4" id="text-3-1-1">




<pre class="example">myFun &lt;- function(x, y) x + y
myFun(3, 4)
class(myFun)
</pre>


</div>

</div>

<div id="outline-container-3-1-2" class="outline-4">
<h4 id="sec-3-1-2"><span class="section-number-4">3.1.2</span> Definir una función a partir de funciones</h4>
<div class="outline-text-4" id="text-3-1-2">




<pre class="example">foo  &lt;-  function(x, ...){
  mx &lt;- mean(x, ...)
  medx &lt;- median(x, ...)
  sdx &lt;- sd(x, ...)
  c(mx, medx, sdx)
  }
</pre>

<p>
O en forma resumida:
</p>


<pre class="example">foo &lt;- function(x, ...){c(mean(x, ...), median(x, ...), sd(x, ...))}
</pre>



</div>
</div>

</div>

<div id="outline-container-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> Uso de funciones</h3>
<div class="outline-text-3" id="text-3-2">


</div>

<div id="outline-container-3-2-1" class="outline-4">
<h4 id="sec-3-2-1"><span class="section-number-4">3.2.1</span> Y ahora usamos la función con vectores</h4>
<div class="outline-text-4" id="text-3-2-1">




<pre class="example">foo(1:10)

rnorm(100)
help(rnorm)
foo(rnorm(1e5))
</pre>


</div>

</div>

<div id="outline-container-3-2-2" class="outline-4">
<h4 id="sec-3-2-2"><span class="section-number-4">3.2.2</span> Y también funciona con matrices</h4>
<div class="outline-text-4" id="text-3-2-2">




<pre class="example">rowMeans(M)
apply(M, 1, foo)
colMeans(M)
apply(M, 2, foo)
</pre>


</div>

</div>

<div id="outline-container-3-2-3" class="outline-4">
<h4 id="sec-3-2-3"><span class="section-number-4">3.2.3</span> La función <code>outer</code></h4>
<div class="outline-text-4" id="text-3-2-3">




<pre class="example">f &lt;- function(x, y)x^2+y^2
f
f(1, 2)
x
y

z &lt;- outer(x, y, f)
z
image(x, y, z)
</pre>



</div>
</div>
</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Listas y data.frame</h2>
<div class="outline-text-2" id="text-4">



</div>

<div id="outline-container-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> Listas</h3>
<div class="outline-text-3" id="text-4-1">


</div>

<div id="outline-container-4-1-1" class="outline-4">
<h4 id="sec-4-1-1"><span class="section-number-4">4.1.1</span> Para crear una lista usamos la función <code>list</code></h4>
<div class="outline-text-4" id="text-4-1-1">




<pre class="example">lista &lt;- list(a=c(1,3,5),
              b=c('l', 'p', 'r', 's'),
              c=3)
class(list)
class(lista)
</pre>


</div>

</div>

<div id="outline-container-4-1-2" class="outline-4">
<h4 id="sec-4-1-2"><span class="section-number-4">4.1.2</span> Podemos acceder a los elementos&hellip;</h4>
<div class="outline-text-4" id="text-4-1-2">

<ul>
<li>Por su nombre
</li>
</ul>




<pre class="example">lista
lista$a
lista$b
lista$c
</pre>


<ul>
<li>o por su índice
</li>
</ul>




<pre class="example">lista[1]
lista[[1]]

class(lista[1])
class(lista[[1]])

lista[2]
lista[[2]]

class(lista[2])
class(lista[[2]])
</pre>


</div>

</div>

<div id="outline-container-4-1-3" class="outline-4">
<h4 id="sec-4-1-3"><span class="section-number-4">4.1.3</span> Cada elemento es diferente</h4>
<div class="outline-text-4" id="text-4-1-3">

<ul>
<li>Clase
</li>
</ul>




<pre class="example">class(lista)
class(lista$a)
class(lista$b)
class(lista$c)
</pre>

<ul>
<li>Longitud
</li>
</ul>




<pre class="example">length(lista)
length(lista$a)
length(lista$b)
length(lista$c)
</pre>


</div>

</div>

<div id="outline-container-4-1-4" class="outline-4">
<h4 id="sec-4-1-4"><span class="section-number-4">4.1.4</span> Para matrices <code>apply</code>, para listas <code>lapply</code> y <code>sapply</code></h4>
<div class="outline-text-4" id="text-4-1-4">




<pre class="example">lapply(lista, length)
sapply(lista, length)

lista &lt;- list(x = 1:10,
              y = seq(0, 10, 2),
              z = rnorm(30))
lista

lapply(lista, sum)
lapply(lista, median)
lapply(lista, foo)
</pre>



</div>
</div>

</div>

<div id="outline-container-4-2" class="outline-3">
<h3 id="sec-4-2"><span class="section-number-3">4.2</span> Data.frame</h3>
<div class="outline-text-3" id="text-4-2">


</div>

<div id="outline-container-4-2-1" class="outline-4">
<h4 id="sec-4-2-1"><span class="section-number-4">4.2.1</span> Para crear un <code>data.frame</code>&hellip;</h4>
<div class="outline-text-4" id="text-4-2-1">




<pre class="example">df &lt;- data.frame(x = 1:10,
                 y = rnorm(10),
                 z = 0)

length(df)
dim(df)
</pre>

</div>

</div>

<div id="outline-container-4-2-2" class="outline-4">
<h4 id="sec-4-2-2"><span class="section-number-4">4.2.2</span> Podemos acceder a los elementos</h4>
<div class="outline-text-4" id="text-4-2-2">

<ul>
<li>Por su nombre
</li>
</ul>




<pre class="example">df$x
df$y
df$z
</pre>


<ul>
<li>Por su índice
</li>
</ul>




<pre class="example">df
df[1,]
df[,1]
df[,2]
</pre>


</div>

</div>

<div id="outline-container-4-2-3" class="outline-4">
<h4 id="sec-4-2-3"><span class="section-number-4">4.2.3</span> La regla del reciclaje</h4>
<div class="outline-text-4" id="text-4-2-3">




<pre class="example">year &lt;- 2011
month &lt;- 1:12
class &lt;- c('A', 'B', 'C')
vals &lt;- rnorm(12)

dats &lt;- data.frame(year, month, class, vals)
dats
</pre>

</div>

</div>

<div id="outline-container-4-2-4" class="outline-4">
<h4 id="sec-4-2-4"><span class="section-number-4">4.2.4</span> La función <code>expand.grid</code></h4>
<div class="outline-text-4" id="text-4-2-4">





<pre class="example">x &lt;- y &lt;- seq(-4*pi, 4*pi, len=200)
df &lt;- expand.grid(x = x, y = y)
head(df)
tail(df)
summary(df)
dim(df)
names(df)
</pre>


</div>

</div>

<div id="outline-container-4-2-5" class="outline-4">
<h4 id="sec-4-2-5"><span class="section-number-4">4.2.5</span> Funciones sobre <code>data.frame</code></h4>
<div class="outline-text-4" id="text-4-2-5">





<pre class="example">circles &lt;- function(object){
  r &lt;- with(object, sqrt(x^2 + y^2))
  res &lt;- cos(r^2)*exp(-r/6)
  res}

df$result &lt;- circles(df)
head(df)
</pre>


</div>

</div>

<div id="outline-container-4-2-6" class="outline-4">
<h4 id="sec-4-2-6"><span class="section-number-4">4.2.6</span> Una imagen vale más que mil palabras</h4>
<div class="outline-text-4" id="text-4-2-6">




<pre class="example">library(lattice)
levelplot(result ~ x + y, data=df)
</pre>


</div>
</div>
</div>

</div>

<div id="outline-container-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Factores, fechas y caracteres</h2>
<div class="outline-text-2" id="text-5">


</div>

<div id="outline-container-5-1" class="outline-3">
<h3 id="sec-5-1"><span class="section-number-3">5.1</span> <code>factor</code></h3>
<div class="outline-text-3" id="text-5-1">


</div>

<div id="outline-container-5-1-1" class="outline-4">
<h4 id="sec-5-1-1"><span class="section-number-4">5.1.1</span> Una variable numérica que nos servirá para el ejemplo</h4>
<div class="outline-text-4" id="text-5-1-1">




<pre class="example">N &lt;- 100
edad &lt;- sample(seq(18, 40, 1), N, replace=TRUE)
summary(edad)
</pre>


</div>

</div>

<div id="outline-container-5-1-2" class="outline-4">
<h4 id="sec-5-1-2"><span class="section-number-4">5.1.2</span> Una variable cualitativa se define con <code>factor</code></h4>
<div class="outline-text-4" id="text-5-1-2">

<ul>
<li>Ahora es un <code>character</code>
</li>
</ul>




<pre class="example">sexo &lt;- sample(c('H', 'M'), N, replace=TRUE)
class(sexo)
summary(sexo)
</pre>

<ul>
<li>Ahora es un <code>factor</code>
</li>
</ul>




<pre class="example">sexo &lt;- factor(sexo)
class(sexo)
summary(sexo)
levels(sexo)
nlevels(sexo)
</pre>


</div>

</div>

<div id="outline-container-5-1-3" class="outline-4">
<h4 id="sec-5-1-3"><span class="section-number-4">5.1.3</span> Los <code>factor</code> sirven para agrupar</h4>
<div class="outline-text-4" id="text-5-1-3">


<ul>
<li>Con la función <code>table</code>
</li>
</ul>




<pre class="example">table(edad, sexo)
table(edad &gt; 30, sexo)
table(edad %in% 20:30, sexo)
</pre>


<ul>
<li>Con <code>tapply</code> o <code>aggregate</code>
</li>
</ul>




<pre class="example">tapply(edad,sexo, mean)
aggregate(edad ~ sexo, FUN=median)
</pre>


</div>

</div>

<div id="outline-container-5-1-4" class="outline-4">
<h4 id="sec-5-1-4"><span class="section-number-4">5.1.4</span> Los factores sirven para separar</h4>
<div class="outline-text-4" id="text-5-1-4">




<pre class="example">edadSexo &lt;- split(edad, sexo)
class(edadSexo)

sapply(edadSexo, mean)
</pre>


</div>

</div>

<div id="outline-container-5-1-5" class="outline-4">
<h4 id="sec-5-1-5"><span class="section-number-4">5.1.5</span> Los <code>factor</code> se pueden generar a partir de variables numéricas</h4>
<div class="outline-text-4" id="text-5-1-5">

<ul>
<li>Por ejemplo, con <code>cut</code>
</li>
</ul>




<pre class="example">gEdad &lt;- cut(edad, breaks=4)
class(gEdad)
levels(gEdad)
nlevels(gEdad)
</pre>


<ul>
<li>Nuevamente <code>table</code>
</li>
</ul>




<pre class="example">table(gEdad)
table(gEdad, sexo)
</pre>


</div>
</div>

</div>

<div id="outline-container-5-2" class="outline-3">
<h3 id="sec-5-2"><span class="section-number-3">5.2</span> Fechas</h3>
<div class="outline-text-3" id="text-5-2">



</div>

<div id="outline-container-5-2-1" class="outline-4">
<h4 id="sec-5-2-1"><span class="section-number-4">5.2.1</span> <code>Date</code></h4>
<div class="outline-text-4" id="text-5-2-1">




<pre class="example">as.Date('2013-02-06')
as.Date('2013/02/06')

as.Date('06.02.2013')
as.Date('06.02.2013', format='%d.%m.%Y')

as.Date(37, origin='2013-01-01')
</pre>


</div>

</div>

<div id="outline-container-5-2-2" class="outline-4">
<h4 id="sec-5-2-2"><span class="section-number-4">5.2.2</span> Secuencias temporales con <code>Date</code></h4>
<div class="outline-text-4" id="text-5-2-2">




<pre class="example">seq(as.Date('2004-01-01'), by='day', length=10)
seq(as.Date('2004-01-01'), by='month', length=10)
seq(as.Date('2004-01-01'), by='10 day', length=10)
</pre>


</div>

</div>

<div id="outline-container-5-2-3" class="outline-4">
<h4 id="sec-5-2-3"><span class="section-number-4">5.2.3</span> POSIXct</h4>
<div class="outline-text-4" id="text-5-2-3">




<pre class="example">as.POSIXct('2013-02-06')
ISOdate(2013, 2, 7)
</pre>



<pre class="example">hoy &lt;- as.POSIXct('2013-02-06')

help(format.POSIXct)
format(hoy, '%Y')
format(hoy, '%d')
format(hoy, '%m')
format(hoy, '%b')
format(hoy, '%d de %B de %Y')
</pre>



<pre class="example">hora &lt;- Sys.time()
hora

format(hora, '%H:%M:%S')
format(hora, '%H horas, %M minutos y %S segundos')
</pre>


</div>

</div>

<div id="outline-container-5-2-4" class="outline-4">
<h4 id="sec-5-2-4"><span class="section-number-4">5.2.4</span> Secuencias temporales con <code>POSIXct</code></h4>
<div class="outline-text-4" id="text-5-2-4">




<pre class="example">seq(as.POSIXct('2004-01-01'), by='month', length=10)
seq(as.POSIXct('2004-01-01 10:00:00'), by='15 min', length=10)
</pre>


</div>

</div>

<div id="outline-container-5-2-5" class="outline-4">
<h4 id="sec-5-2-5"><span class="section-number-4">5.2.5</span> Zonas horarias</h4>
<div class="outline-text-4" id="text-5-2-5">





<pre class="example">as.POSIXct('2013-02-06 15:30:00', tz='GMT')
as.POSIXct('2013-02-06 15:30:00', tz='Europe/Madrid')
</pre>



<pre class="example">hawaii &lt;- as.POSIXct('2013-02-06 15:30:00', tz='HST')
## Character
format(hawaii, tz='GMT')
## POSIXct
as.POSIXct(format(hawaii, tz='GMT'), tz='GMT')
</pre>


</div>
</div>

</div>

<div id="outline-container-5-3" class="outline-3">
<h3 id="sec-5-3"><span class="section-number-3">5.3</span> Caracteres</h3>
<div class="outline-text-3" id="text-5-3">



</div>

<div id="outline-container-5-3-1" class="outline-4">
<h4 id="sec-5-3-1"><span class="section-number-4">5.3.1</span> Bastan unas simples comillas</h4>
<div class="outline-text-4" id="text-5-3-1">





<pre class="example">cadena &lt;- "Hola mundo"
class(cadena)
nchar(cadena)
</pre>


<ul>
<li>Y aquí, ¿qué pasa?
</li>
</ul>




<pre class="example">length(cadena)
cadena[1]
cadena[2]
</pre>


</div>

</div>

<div id="outline-container-5-3-2" class="outline-4">
<h4 id="sec-5-3-2"><span class="section-number-4">5.3.2</span> Un vector de <code>character</code></h4>
<div class="outline-text-4" id="text-5-3-2">




<pre class="example">cadenaVec &lt;- c("Hola mundo", "Hello world")
nchar(cadenaVec)
length(cadenaVec)
</pre>


</div>

</div>

<div id="outline-container-5-3-3" class="outline-4">
<h4 id="sec-5-3-3"><span class="section-number-4">5.3.3</span> Para mostrarlos usamos <code>cat</code> o <code>print</code></h4>
<div class="outline-text-4" id="text-5-3-3">





<pre class="example">a = 2
b = 3

cat('La suma de', a, 'y', b, 'es', a + b)

cat('La suma de', a, 'y', b, 'es', a + b, fill=TRUE)

cat('La suma de', a, 'y', b, 'es', a + b, '\n',
    'La multiplicación de', a, 'por', b, 'es', a*b, '\n')

cat('La suma de', a, 'y', b, 'es', a + b, '\n',
    'La multiplicación de', a, 'por', b, 'es', a*b, fill=15)
</pre>


</div>

</div>

<div id="outline-container-5-3-4" class="outline-4">
<h4 id="sec-5-3-4"><span class="section-number-4">5.3.4</span> Los <code>character</code> se pueden unir&hellip;</h4>
<div class="outline-text-4" id="text-5-3-4">

<ul>
<li>Primero sencillo
</li>
</ul>




<pre class="example">paste('Hello', 'World', sep='_')

paste(cadenaVec)
paste(cadenaVec, collapse='=')
</pre>

<ul>
<li>Y algo más complicado
</li>
</ul>




<pre class="example">paste('X', 1:5, sep='.')
paste(c('A', 'B'), 1:5, sep='.')

paste(c('A', 'B'), 1:5, sep='.', collapse='|')
</pre>


</div>

</div>

<div id="outline-container-5-3-5" class="outline-4">
<h4 id="sec-5-3-5"><span class="section-number-4">5.3.5</span> &hellip; y también se pueden separar&hellip;</h4>
<div class="outline-text-4" id="text-5-3-5">




<pre class="example">strsplit(cadenaVec, split=' ')
strsplit(cadenaVec, split='')
</pre>



<pre class="example">chSep &lt;- strsplit(cadenaVec, split=' ')
class(chSep)
length(chSep)
sapply(chSep, length)
sapply(chSep, nchar)
</pre>


</div>

</div>

<div id="outline-container-5-3-6" class="outline-4">
<h4 id="sec-5-3-6"><span class="section-number-4">5.3.6</span> &hellip; y, por supuesto, manipular</h4>
<div class="outline-text-4" id="text-5-3-6">




<pre class="example">sub('o', '0', 'Hola Mundo')
gsub('o', '0', 'Hola Mundo')

substring(cadena, 1) &lt;- 'HOLA'
cadena

tolower(cadena)
toupper(cadena)
</pre>




</div>
</div>
</div>
</div>
</div>

<div id="postamble">
<p class="date">Fecha: 30 de Enero de 2013</p>
<p class="author">Autor: Oscar Perpiñán Lamigueiro</p>
<p class="creator"><a href="http://orgmode.org">Org</a> version 7.9.2+ with <a href="http://www.gnu.org/software/emacs/">Emacs</a> version 24</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>

</div>
</body>
</html>
